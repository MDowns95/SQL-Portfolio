/* In Progress */

/* Here There Be Spoilers! 
  These are my solutions for the SQL Murder Mystery found at https://mystery.knightlab.com/
  The SQL Murder Mystery is built using SQLite. Using SQL commands to navigate a relational database, you can solve a murder. */

/* SQL commands
  SELECT 
  LEFT JOIN
  WHERE */

/* Prompt begins: You vaguely remember that the crime was a ​murder​ that occurred sometime on ​Jan.15, 2018​ and that it took place in ​SQL City​.
  You can check the provided schema diagram for the names of the tables or you can run this querry */
  SELECT name 
  FROM sqlite_master
  where type = 'table';
/* which returns the field name with the names of the tables: crime_scene_report, drivers_license, facebook_event_checkin, 
  interview, get_fit_now_member, get_fit_now_check_in, solution, income, person */

/* The next prompt suggests running a querry to check the structure of the crime_scene_report table. Again, you could look at the provided schema or run this querry */
  SELECT sql 
  FROM sqlite_master
  where name = 'crime_scene_report';
/* which returns crime_scene_report ( date integer, type text, description text, city text ) */

/* From here you can go through the walkthrough or try it on your own */

/* This querry brings up the crime scene report you need. */
SELECT date, description
  FROM crime_scene_report
  WHERE city IS "SQL City" AND date IS "20180115";
/* There are three results, but only one makes sense. The other two reports are a quote from the musical Hamilton and "Report Not Found"
  Report reads: Security footage shows that there were 2 witnesses. 
    The first witness lives at the last house on "Northwestern Dr". 
    The second witness, named Annabel, lives somewhere on "Franklin Ave". */
    
/* This querry will give the name of the first witness who lives at the last house on "Northwestern Dr". */
  SELECT name 
    FROM person
    WHERE address_street_name IS "Northwestern Dr"
    ORDER BY address_number DESC LIMIT 1;
/* Querry returns "Morty Schapiro"
  
/* This querry will give you the full name of the second witness "Annabel" who lives somewhere on "Franklin Ave". */
  SELECT name 
    FROM person
    WHERE name LIKE "Annabel%" AND address_street_name IS "Franklin Ave";
/* Querry returns "Annabel Miller" */
